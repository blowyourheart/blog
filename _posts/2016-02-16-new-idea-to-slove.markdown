---
layout: post
title:  "换种方法解决问题比牛逼的技术更靠谱"
date:   2016-02-16 20:08:41 +0800
categories: new thinking
---
面对一个具体问题，有时候多想一些方法，多从不同的角度，不同项目组所在的角色来解决问题，比在一个孤立的技术视角来解决问题容易很多，最终的方案也清晰易维护些。
当然，这其中就需要与人多沟通，从人与人之间的交流中才能碰撞出思想的火花。
具体举例如下

## 内部听课码消除
之前的逻辑是从任何一个买过课的学生中取出听课码看回放，现在变成动态听课码，如果还这么做的话展示一会可能就变了。
如果要生硬的插入一条后台的购买记录，那么统计购买信息和一些权限认证的时候就会写出一些很脏的代码来单独处理这些数据，整个解决方案很丑陋。
我们可以直接通过id来看回放，只限内部使用，把cookie写回去，其他接口都不变，就很优雅的解决了这个问题。
程序逻辑再一个事物里面，代码写的好好的，看了N遍，也换了很多种测试参数，但就是不起作用。单步调试以后才发现，原来最后没有commit。
这个只是针对修改数据库时的问题，通常都是先拷贝数据库事物的模板，然后在上面改动，这时候很容易把提交事物的代码干掉了，就会出现这种情况。

## 系列课保存年级和教材版本信息
之前是先创建订单，然后再保存教材版本和年级，如果保存失败了，那么就需要删除订单，这个会造成客户端的处理逻辑复杂。
一个转换处理的方法是先将教材版本年级信息等与系列课和个人绑定再一起，然后去创建订单。订单创建完了以后，取这些信息的时候去返回就可以了。
